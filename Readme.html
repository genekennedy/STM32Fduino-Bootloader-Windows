<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice 4.0.1  (Win32)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Gene Kennedy">
	<META NAME="CHANGED" CONTENT="20170731;22222776">
	<STYLE TYPE="text/css">
	<!--
		@page { margin-right: 1.25in; margin-top: 1in; margin-bottom: 1in }
		P { margin-bottom: 0.08in; color: #000000 }
		P.western { font-family: "Calibri", sans-serif; font-size: 12pt; so-language: en-US }
		P.cjk { font-family: "Calibri", sans-serif; font-size: 12pt; so-language: zh-CN }
		P.ctl { font-family: "Calibri", sans-serif }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" TEXT="#000000" DIR="LTR" STYLE="border: none; padding: 0in">
<P LANG="en" CLASS="western" ALIGN=CENTER STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt"><U><B>INSTALLING STM32 USB
BOOTLOADER USING USB/SERIAL ADAPTER</B></U></FONT></P>
<P LANG="en" CLASS="western" ALIGN=CENTER STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt"><U>By: Gene Kennedy</U></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%"><BR><BR>
</P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt">What you will need:</FONT></P>
<OL>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">A PC running windows (I'm using
	Widows 10). If you are using a Widows operating system these
	instructions won't work, sorry.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	 <FONT SIZE=2 STYLE="font-size: 11pt">Compatable STM32 board (I'm
	using a generic &quot;Blue Pill&quot; board). There are many to
	choose from. This the board I am using and it's pinout:</FONT></P>
</OL>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_m116fc7de.gif" ALIGN=BOTTOM WIDTH=476 HEIGHT=285 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Note the two yellow jumper
headers next to the REST pushbutton and just above and left of the
USB connector. The right hand jumper will remain in the position, the
left jumper will be moved back and forth as we proceed.</FONT></P>
<OL START=3>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	 <FONT SIZE=2 STYLE="font-size: 11pt">Jumper wires to connect the
	STM32 to the USB/serial adapter (4 jumpers are required).</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">USB to serial adaptor that can
	generate 3.3VDC serial signals (I'm using a FT232 adaper). There are
	many to choose from.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">USB cable to connect the
	adapter to PC.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">USB cable to connect the STM32
	to the PC.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Access to the internet to
	download files as needed.</FONT></P>
</OL>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%"><BR><BR>
</P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt">Let's get started:</FONT></P>
<OL START=8>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Download and install latest
	stable release of Arduino IDE (I'm using version 1.8.3). Others will
	work but not all.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Download lastest release of
	Arduino_STM32-R20170323. Note R20170323 denotes, R= release,
	20170323=date(YYYYMMDD).</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Unzip this folder to the
	Documents/Arduino/hardware directory. Create the hardware folder if
	it does not exist.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Connect a USB to serial adapter
	(not USB to RS232, must be a 3.3V output from the USB to serial
	converter or you will destroy the STM32 board).</FONT></P>
</OL>
<OL>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Plug the USB connector into
	your PC without any connection to the STM32. If it does not
	recognize the USB device, download, unzip and install CH341SER.zip
	driver.</FONT></P>
</OL>
<OL START=12>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Disconnect the USB/serial
	adapter from the PC. Connect the USB/serial adapter and the STM32
	using jumper wires as below. Note your USB/serial adapter and STM32
	may be marked slightly different.</FONT></P>
</OL>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt">	<U><B>USB/serial</B></U>	<U><B>STM32</B></U></FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt">	VC	&lt;--&gt;	3.3V or
5V	<FONT COLOR="#ff0000"><B>(Verify A9/A10 are 5V tolerant)</B></FONT></FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt">	GND	&lt;--&gt;	GND</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt">	RX	&lt;--&gt;	PA9 (A9)</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt">	TX	&lt;--&gt;	PA10 (A10)</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_69f38d72.gif" ALIGN=BOTTOM WIDTH=462 HEIGHT=600 BORDER=0></P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%"><BR><BR>
</P>
<OL START=13>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Check your wiring and make sure
	you got it correct. If your wiring is incorrect you may damage the
	adapter or the STM32.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Move the Boot0 jumper (as shown
	in the above image [top jumper]) from the 0 selection to the 1
	selection (jumper to the left).</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Connect the USB/serial adapter
	to the PC using the USB cable. Verify through Device Manager that
	the USB port was detect (it will show up in the COM &amp; LPT
	section).</FONT></P>
</OL>
<OL START=2>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">The Power LED should be on
	(some boards may not have a power LED).</FONT></P>
</OL>
<OL START=16>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Download, unzip and install
	STMicroelectronic's Demonstrator GUI (the file I am using is named
	&quot;en.stws-stm32102.zip&quot;, current release).</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Download and unzip the
	STM32duino-bootloader-master.zip file. Remember where you saved
	these files as we will need to access a file from this directory.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Determine which STM32 pin your
	board uses (the Blue Pill uses PC13 for the on board LED)</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Run the Demonstrator GUI
	software.</FONT></P>
</OL>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt">	You will see this screen:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">`</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_5c93521a.gif" ALIGN=BOTTOM WIDTH=414 HEIGHT=531 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">In the &quot;Port Name&quot;
drop down box select the COM port for USB/Serial adapter. If it isn't
in the list Windows did not recognize it and you can not proceed.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">In my case it turns out to be
COM5, yours may and most likely will be something different.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_602f4a08.gif" ALIGN=BOTTOM WIDTH=414 HEIGHT=531 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Click the &quot;Next&quot;
button. If the USB/Serial device and the STM32 are recognized the
following screen will appear:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_7cf4dc72.gif" ALIGN=BOTTOM WIDTH=414 HEIGHT=531 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Click the &quot;Next&quot;
button. The following screen will appear (note your board may
regenerate diffent info but that's OK):</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_11ec8c0a.gif" ALIGN=BOTTOM WIDTH=414 HEIGHT=531 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Click the &quot;Next&quot;
button.  The following screen will appear:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_31ec5608.gif" ALIGN=BOTTOM WIDTH=414 HEIGHT=531 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Click the &quot;Download to
device&quot; radio button and the screen will appear:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_17e5ed80.gif" ALIGN=BOTTOM WIDTH=414 HEIGHT=531 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Now Click the browse button (the
button to the right of the &quot;Download from file&quot; text box,
it is labeled browse but that's what it is).</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">The Open File dialog will appear
as follows:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_m2ba2849f.gif" ALIGN=BOTTOM WIDTH=480 HEIGHT=281 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Over in the lower right hand
corner there is a drop down box that allows only the selected file
type to be displayed, select &quot;.Bin&quot;.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Navigate to directory that you
unzipped to STM32duino-bootloader-master.zip file.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">From this directory navagate to
the /STM32F1/binaries/ and select the bootloader that corresponds to
your board.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Since my Blue Pill board uses
PC13 to control the onboard LED I need to select the file
&quot;generic_boot20_pc13.bin&quot;.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Say you board uses PA9 for the
onboard you would select the file &quot;generic_boot20_pa9.bin&quot;,
as an example.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Here my dialog box after
selecting the file.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_m3d1c9566.gif" ALIGN=BOTTOM WIDTH=480 HEIGHT=281 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Click the open button.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">The resulting screen, only your
file name may be different appears as follows:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_2b765d4c.gif" ALIGN=BOTTOM WIDTH=414 HEIGHT=531 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Click Next.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">If everything goes well you
should see the following screen:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_m6546180d.gif" ALIGN=BOTTOM WIDTH=414 HEIGHT=531 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">The Arduino USB bootloader is
now installed on your board.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Notice the onboard is not on or
blinking, just the power LED is on.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Move the Boot zero jumper back
to it's orginal 0 position.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Now reset the board using the
reset button.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Immediately after reset the
onboard LED will blink fast and then steadily blink slower.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">This indicates that the
bootloader is loaded and there is no application program to execute.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">The USB bootloader does not have
support for the boards USB port, they wanted to keep it's code as
small as posssible.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">In order to get the support for
the USB we will load an empty arduino sketch.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Startup the Arduino IDE (there
should be an Arduino shortcut on your desktop, click it.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Once it is up and running (takes
several seconds on my PC) you should see something similar to this:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_m70e9c815.gif" ALIGN=BOTTOM WIDTH=562 HEIGHT=549 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%">
<FONT SIZE=2 STYLE="font-size: 11pt">Under the Tools drop down menu
set the following:</FONT></P>
<OL START=20>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
	<FONT SIZE=2 STYLE="font-size: 11pt"><B>Board: </B>Select the board
	you are using from the list (I'm using a STM32 Blue Pill so I select
	&quot;Generic STM32F103C series&quot;). Set this to match the board
	you are using.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Note the the <B>Variant </B>and
	<B>CPU Speed </B>fields are automaticlly change to match the board
	you selected. Verify they are correct.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
	<FONT SIZE=2 STYLE="font-size: 11pt"><B>Upload Method: </B>Select
	&quot;Serial&quot;.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
	<FONT SIZE=2 STYLE="font-size: 11pt"><B>Port: </B>Set this to the
	COM port for the USB/Serial adapter (should be the same COM address
	as we used to load the USB bootloader). </FONT>
	</P>
</OL>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">The final result should look
similar to this:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_59841692.gif" ALIGN=BOTTOM WIDTH=562 HEIGHT=549 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Move the Boot0 jumper back to
the 1 position.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Press the reset button on the
board and notice the onboard LED is no longer blinking.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Take note of the compilation
progress bar while it compiles. Note:</FONT></P>
<OL START=24>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
	<FONT SIZE=2 STYLE="font-size: 11pt">The progress bar will show some
	progress and then clear.</FONT></P>
	<LI><P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
	<FONT SIZE=2 STYLE="font-size: 11pt">Then the progress bar will show
	some progress until the compilation is complete.</FONT></P>
</OL>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">The the second progress bar 1st
shows progress is when you need to reset the board when uploading the
sketch.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Don't worry if you don't get it
the 1st time, no harm no foul.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">In the &quot;Sketch&quot; drop
down menu select &quot;Verify/Compile&quot; as shown below:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_33c6af7f.gif" ALIGN=BOTTOM WIDTH=562 HEIGHT=549 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">When compilation is complete you
should see a screen similar to this:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_m216ac73e.gif" ALIGN=BOTTOM WIDTH=562 HEIGHT=549 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">The reason we compile the
project before we upload the sketch is beause the 1st compilation is
very slow.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">When we download the sketch we
will need to time the reset of the board with the upload process.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Having a fairly consistant
compilation time will make it easier to time the reset.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Once we have the USB bootloader
up and running we will no longer need to time this reset, it happens
automatically.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Now we are ready to upload the
sketch.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Be prepared to reset the board
as explained above.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Go to the &quot;Sketch&quot;
drop down menu and select &quot;Upload&quot;, simular to this:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_m41461715.gif" ALIGN=BOTTOM WIDTH=569 HEIGHT=549 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Reset the bar when the 2nd
compilation progess begins to show progress, don't hold the button
down, press and release.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">If the upload is sucessful you
should see a screen similar to this:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_5c2ab2e6.gif" ALIGN=BOTTOM WIDTH=562 HEIGHT=620 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Congrats, you now h ave your
board ready to use as is USB port to upload sketches!</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">If you get a screen similar to
this, the upload was not successful:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_2e53b179.gif" ALIGN=BOTTOM WIDTH=555 HEIGHT=620 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">If at first you don't succeed,
try again. It make take a few tries to get the timing right.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Some boards/PCs operate faster
than others. This timing seems to for my setup.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Try diffent timing to determine
what works best for your setup.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">I have had the USB/serial
adapter stop functioning on occasion. Unplug it a plug it backin, try
again.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Press the reset button.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Notice the onboard LED no longer
blinks fast and then continues to blink slower.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">This due to a sketch being
upload to program memory.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Now move the Boot0 jumper back
to the 0 position, reset the board.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">The board is now ready for
sketches to be uploaded to the board via the onboard USB port!</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Don't get to excited we are not
done yet.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Now we must set up Widows to
recognize the USB port.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Open up Windows Explore and
navigate to the location that you unzipped the
Arduino_STM32-R20170323.zip file.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Now navagate to /drivers/win/
and you will find a &quot;install_drivers.bat&quot; file.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Double click this file to
execute it, should look something similar to this:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_11747b83.gif" ALIGN=BOTTOM WIDTH=472 HEIGHT=379 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Follow instructions until the
batch file completes.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">If you notice in the above
screen shot there is also another &quot;install_STM_COM_drivers.bat&quot;
file.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Instructions aren't clear but I
also ran &quot;install_STM_COM_drivers.bat&quot;  by double clicking
it as well (just guessing).</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Plug your board into a USB cable
connected to your PC.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">In the Arduino IDE select
&quot;Tools&quot; in the drop down menu select &quot;Upload Method:&quot;
and set it to &quot;STM32duino bootloader&quot;.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Should appear similar to this:</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<IMG SRC="Readme_html_m2d62e882.gif" ALIGN=BOTTOM WIDTH=555 HEIGHT=620 BORDER=0></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Go to &quot;Tools&quot; drop
down menu and select &quot;Port&quot;, you should now see the Arduino
USB port in the COM selection.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">If Windows recognizes the
Arduino USB port you are now ready to use it.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Unfortunately I can't provide a
screens shot because Windows does not recognize my boards USB.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">The Blue Pill boards are known
to have the wrong resistor install on R10 (bottom of board).</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">I removed this resistor and
installed a through hole 1.5K resister between the 3.3V and the A12
pin.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Sorry but still  no cigar.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">I've tried this with 4 seperate
Blue Pill boards and have not gotten it to work.</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Anyone know why this doesn't
work?</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">Thanks in advance!</FONT></P>
<P LANG="en" CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%">
<FONT SIZE=2 STYLE="font-size: 11pt">I would like to correct these
instructions and then post to the forum.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 100%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.14in; line-height: 115%"><BR><BR>
</P>
</BODY>
</HTML>